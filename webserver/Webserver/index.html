<h1>Test {{ Webserver_IP_ADDRESS }}</h1>

<script>

function createNavigation() {
    fetch('/list_paths')
        .then(response => response.json())
        .then(data => {
            const nav = document.createElement('nav');
            nav.style.cssText = 'display: flex; justify-content: space-around; padding: 1em; background-color: #f0f0f0;';

            data.paths.forEach(path => {
                const link = document.createElement('a');
                link.href = path;
                link.textContent = path === '/' ? 'Home' : path.slice(1);
                link.style.cssText = 'color: #333; text-decoration: none; padding: 0.5em 1em;';

                link.addEventListener('mouseenter', () => {
                    link.style.backgroundColor = '#ddd';
                });
                link.addEventListener('mouseleave', () => {
                    link.style.backgroundColor = 'transparent';
                });

                nav.appendChild(link);
            });

            document.body.insertBefore(nav, document.body.firstChild);
        })
        .catch(error => console.error('Error fetching paths:', error));
}

// Call the function when the page loads
document.addEventListener('DOMContentLoaded', createNavigation);
</script>