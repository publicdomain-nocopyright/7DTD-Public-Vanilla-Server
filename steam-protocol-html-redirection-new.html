<!DOCTYPE html>
<html>
  <head>
    <title>Redirecting to Steam</title>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var domain = "vanillaserver.eu";

        // Fetch IP address using DNS resolution
        window.fetch(`https://dns.google/resolve?name=${domain}&type=A`)
          .then(response => response.json())
          .then(data => {
            if (data.Status === 0 && data.Answer) {
              var ip = data.Answer[0].data;
              // Redirect using the fetched IP
              window.location.href = `steam://connect/${ip}:26900`;

              // Attempt to close the window after the redirect
              setTimeout(() => {
                window.close();
              }, 1000); // Delay for a second to allow redirection
            } else {
              console.error("Failed to resolve IP address for the domain.");
            }
          })
          .catch(error => {
            console.error('Error:', error);
          });
      });
    </script>
  </head>
  <body>
  </body>
</html>
